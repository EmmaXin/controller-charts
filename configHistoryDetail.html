<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Angular Material style sheet -->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="css/onos/opensans.css">
    <link rel="stylesheet" href="css/onos/onos.css">
    <link rel="stylesheet" href="css/onos/onos-theme.css">
    <link rel="stylesheet" href="css/onos/common.css">
</head>

<body ng-app="myApp" ng-cloak>

    <div ng-controller="appCtrl">
        <a href="#red">Red</a>
        <div ng-view></div>
    </div>

    <!-- Angular Material requires Angular.js Libraries -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-route.min.js"></script>
    <script src="./node_modules/oclazyload/dist/ocLazyLoad.min.js"></script>
    <!--<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-messages.min.js"></script>-->

    <!-- Angular Material Library -->
    <!--<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>-->

    <script src="./node_modules/lodash/lodash.min.js"></script>
    <!--<script src="./node_modules/jquery/dist/jquery.min.js"></script>-->

    <script src="app/services/mock/websocket.js"></script>

    <!-- Your application bootstrap  -->
    <script type="text/javascript">

        angular.module("myApp", ['ngRoute', 'oc.lazyLoad', 'mockUtils'])
            .config(function ($routeProvider) {
                $routeProvider
                    .when("/red", {
                        templateUrl: "app/view/configHistoryDetail/configHistoryDetail.html",
                        controller: 'OvConfigHistoryDetailCtrl',
                        resolve: {
                            ctrl: ['$ocLazyLoad', function ($ocLazyLoad) {
                                return $ocLazyLoad.load([
                                    {
                                        files:[
                                            'app/view/configHistoryDetail/ang-accordion.js',
                                            'app/view/configHistoryDetail/configHistoryDetail.js'],
                                        serie: true
                                    },
                                    {
                                        files: [
                                            './node_modules/bootstrap/dist/css/bootstrap.min.css',
                                            'app/view/configHistoryDetail/configHistoryDetail.css'
                                        ],
                                        serie: true
                                    },
                                    {
                                        files: ['app/view/configHistoryDetail/ang-accordion.css']
                                    }
                                ]);
                            }]
                        }
                    });
            })
            .controller('appCtrl', ['$scope', function ($scope) {

            }])
            .run(['$location', 'WebSocketService', function ($location, wss) {
                var configHistoryDetailCurrent = {
                    '20170501011000000': {
                        id: '20170501011000000',
                        modified: '2017-05-01 01:10:00.000',
                        modifiedBy: 'mars',
                        description: 'Device had added; Link had added',
                        networkCfg: {
                            global: {
                                reservedSubnet: [
                                    "192.168.1.0/24",
                                    "192.168.2.0/24",
                                    "192.168.3.0/24"
                                ],
                                reservedVlanRange: {
                                    begin: 4001,
                                    end: 4094
                                }
                            },
                            devices: [
                                {
                                    "id": "rest:1.1.1.1:443",
                                    "name": "Spine-1",
                                    "ip": "1.1.1.1",
                                    "role": "Spine",
                                    "desc": "Spine Switch",
                                    "protocol": "HTTPS",
                                    "port": 443,
                                    "username": "admin",
                                    "password": "admin"
                                },
                                {
                                    "id": "rest:1.1.1.2:443",
                                    "name": "Spine-2",
                                    "ip": "1.1.1.2",
                                    "role": "Spine",
                                    "desc": "Spine Switch",
                                    "protocol": "HTTPS",
                                    "port": 443,
                                    "username": "admin",
                                    "password": "admin"
                                },
                                {
                                    "id": "rest:2.0.0.1:443",
                                    "name": "Leaf-1",
                                    "ip": "2.0.0.1",
                                    "role": "Leaf",
                                    "rack": "Rack-1",
                                    "desc": "Leaf Switch with MLAG",
                                    "accessSubnet": "10.10.1.0/24",
                                    "accessVlan": "100",
                                    "mlagStatus": "enabled",
                                    "mlagPeerLink": 1,
                                    "mlagVirtualIp": "10.10.1.10",
                                    "mlagGroups": [{"id": 101, "port": 1}, {"id": 102, "port": 2}],
                                    "protocol": "HTTPS",
                                    "port": 443,
                                    "username": "admin",
                                    "password": "admin"
                                }
                            ],
                            links: [
                                {
                                    "id": "rest:1.1.1.1:443/1-rest:1.1.1.2:443/1",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 1},
                                    "dst": {"device": "rest:1.1.1.2:443", "port": 1},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/2-rest:1.1.1.2:443/2",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 2},
                                    "dst": {"device": "rest:1.1.1.2:443", "port": 2},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/3-rest:2.0.0.2:443/3",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 3},
                                    "dst": {"device": "rest:2.0.0.2:443", "port": 3},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/4-rest:2.0.0.3:443/4",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 4},
                                    "dst": {"device": "rest:2.0.0.3:443", "port": 4},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/5-rest:2.0.0.4:443/5",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 5},
                                    "dst": {"device": "rest:2.0.0.4:443", "port": 5},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/6-rest:1.1.1.6:443/6",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 6},
                                    "dst": {"device": "rest:1.1.1.6:443", "port": 6},
                                    "direction": "bidirectional"
                                }
                            ],
                            networks: [
                                {
                                    "name": "blue",
                                    "desc": "blue department",
                                    "vlan": 100,
                                    "members": ["rest:2.0.0.1:443/1", "rest:2.0.0.2:443/1"]
                                },
                                {
                                    "name": "red",
                                    "desc": "red department",
                                    "vlan": 200,
                                    "members": ["rest:2.0.0.2:443/1", "rest:2.0.0.2:443/2"]
                                },
                                {
                                    "name": "green",
                                    "desc": "green department",
                                    "vlan": 300,
                                    "members": ["rest:2.0.0.2:443/3", "rest:2.0.0.3:443/3"]
                                },
                                {
                                    "name": "yellow",
                                    "desc": "yellow department",
                                    "vlan": 400,
                                    "members": ["rest:2.0.0.4:443/4", "rest:1.1.1.6:443/4"]
                                }
                            ]
                        }
                    },
                    '20170501011009999': {
                        id: '20170501011009999',
                        modified: '2017-05-01 01:10:00.999',
                        modifiedBy: 'onos',
                        description: 'Device had added; Link had added',
                        networkCfg: {
                            global: {
                                reservedSubnet: [
                                    "192.168.1.0/24",
                                    "192.168.2.0/24",
                                    "192.168.3.0/24"
                                ],
                                reservedVlanRange: {
                                    begin: 4001,
                                    end: 4094
                                }
                            },
                            devices: [
                                {
                                    "id": "rest:2.2.2.2:80",
                                    "name": "Spine-1",
                                    "ip": "2.2.2.2",
                                    "role": "Spine",
                                    "desc": "Spine Switch",
                                    "protocol": "HTTPS",
                                    "port": 80,
                                    "username": "admin",
                                    "password": "admin"
                                },
                                {
                                    "id": "rest:1.1.1.2:443",
                                    "name": "Spine-2",
                                    "ip": "1.1.1.2",
                                    "role": "Spine",
                                    "desc": "Spine Switch",
                                    "protocol": "HTTPS",
                                    "port": 80,
                                    "username": "admin",
                                    "password": "admin"
                                },
                                {
                                    "id": "rest:2.0.0.1:443",
                                    "name": "Leaf-1",
                                    "ip": "2.0.0.1",
                                    "role": "Leaf",
                                    "rack": "Rack-1",
                                    "desc": "Leaf Switch with MLAG",
                                    "accessSubnet": "10.10.1.0/24",
                                    "accessVlan": "100",
                                    "mlagStatus": "enabled",
                                    "mlagPeerLink": 1,
                                    "mlagVirtualIp": "10.10.1.10",
                                    "mlagGroups": [{"id": 101, "port": 1}, {"id": 102, "port": 2}],
                                    "protocol": "HTTPS",
                                    "port": 80,
                                    "username": "admin",
                                    "password": "admin"
                                }
                            ],
                            links: [
                                {
                                    "id": "rest:1.1.1.1:443/1-rest:2.2.2.3:443/1",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 1},
                                    "dst": {"device": "rest:2.2.2.3:443", "port": 1},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/2-rest:1.1.1.2:443/2",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 2},
                                    "dst": {"device": "rest:1.1.1.2:443", "port": 2},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/3-rest:2.0.0.2:443/3",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 3},
                                    "dst": {"device": "rest:2.0.0.2:443", "port": 3},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/4-rest:2.0.0.3:443/4",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 4},
                                    "dst": {"device": "rest:2.0.0.3:443", "port": 4},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/5-rest:2.0.0.4:443/5",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 5},
                                    "dst": {"device": "rest:2.0.0.4:443", "port": 5},
                                    "direction": "bidirectional"
                                },
                                {
                                    "id": "rest:1.1.1.1:443/6-rest:1.1.1.6:443/6",
                                    "src": {"device": "rest:1.1.1.1:443", "port": 6},
                                    "dst": {"device": "rest:1.1.1.6:443", "port": 6},
                                    "direction": "bidirectional"
                                }
                            ],
                            networks: [
                                {
                                    "name": "blue",
                                    "desc": "blue department",
                                    "vlan": 100,
                                    "members": ["rest:2.0.0.1:443/1", "rest:2.0.0.2:443/1"]
                                },
                                {
                                    "name": "red",
                                    "desc": "red department",
                                    "vlan": 200,
                                    "members": ["rest:2.0.0.2:443/1", "rest:2.0.0.2:443/2"]
                                },
                                {
                                    "name": "green",
                                    "desc": "green department",
                                    "vlan": 300,
                                    "members": ["rest:2.0.0.2:443/3", "rest:2.0.0.3:443/3"]
                                },
                                {
                                    "name": "yellow",
                                    "desc": "yellow department",
                                    "vlan": 400,
                                    "members": ["rest:2.0.0.4:443/4", "rest:1.1.1.6:443/4"]
                                }
                            ]
                        }
                    }
                };

                function hello(req) {
                    return configHistoryDetailCurrent;
                }
                wss.bindResponseData({
                    configHistoryDetailDataResponse: hello//configHistoryDetailCurrent
                });
                $location.path('/red')
                    .search('from', 'somewhere')
                    .search('id', '20170501011000000')
                    .search('other', '20170501011009999');
            }]);
    </script>

</body>

</html>